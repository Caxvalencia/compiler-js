<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Compilador</title>

	<script src="Lex.js"></script>
</head>

<body>

<textarea name="codeSource" id="codeSource" cols="30" rows="10">var abc = 123
function test( $a, _b, c ) {
	if( $a < _b ) return c
	if( $a <= _b ) return c
	if( $a >= _b ) return c
	if( $a > _b ) return @
}</textarea>

	<script>
!function( window, undefined ) {
	/**
	 * Analizador Lexico
	 */
	var lexico = {
		'VAR': /\bvar\b/,
		'FUNCTION': /\bfunction\b/,
		'IF': /\bif\b/,
		'RETURN': /\breturn\b/,
		
		'=': /=/,
		'(': /\(/,
		')': /\)/,
		'{': /\{/,
		'}': /\}/,

		'<=': /<=/,
		'>=': />=/,
		'<': /</,
		'>': />/,

		'NUMBER': /\-?[0-9]*\.?[0-9]+/,

		// 'ID_FUNC': /\bfunction\b\s+([\$\_a-zA-Z]\w*)/,
		'ID': /[\$\_a-zA-Z]\w*/,
		'NEW_LINE': /[\n\r]/
	};

	var codeSource = document.getElementById( 'codeSource' ).value;
	
	var lexer = new Lex( lexico, {
		addSymbolTable: [ 'ID' ],
		counterLines: [ 'NEW_LINE' ]
	});
	lexer.analyze( codeSource );
		
	console.table( lexer.symbolTable );
	console.table( lexer.tokens );

}( window );
	</script>
</body>
</html>