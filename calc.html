<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Calculator</title>

	<script src="Lex.js"></script>
	<script src="Syntax.js"></script>
</head>

<body>

	<input type="text" name="sourceCode" id="sourceCode" value=" 5 + 5 " />
	<input type="button" value="Compile" id="compile">

<script>
// csLexer.AddTokenRule( @"\s+", "ESPACIO", true );           
// csLexer.AddTokenRule( @"\b[_a-zA-Z][\w]*\b", "IDENTIFICADOR" );
// csLexer.AddTokenRule( "\".*?\"", "CADENA" );
// csLexer.AddTokenRule( @"'\\.'|'[^\\]'", "CARACTER" );
// csLexer.AddTokenRule( "//[^\r\n]*", "COMENTARIO1");
// csLexer.AddTokenRule( "/[*].*?[*]/", "COMENTARIO2" );
// csLexer.AddTokenRule( @"\d*\.?\d+", "NUMERO");              
// csLexer.AddTokenRule( @"[\(\)\{\}\[\];,]", "DELIMITADOR" );
// csLexer.AddTokenRule( @"[\.=\+\-/*%]","OPERADOR" );
// csLexer.AddTokenRule( @">|<|==|>=|<=|!", "COMPARADOR" );

!function( window, undefined ) {
	/**
	 * Analizador Lexico
	 */
	var lexico = {
		// DELIMITERS
		'(': /\(/,
		')': /\)/,
		'{': /\{/,
		'}': /\}/,
		'[': /\[/,
		']': /\]/,

		// OPERATORS
		'+': /\+/,
		'-': /\-/,
		'*': /\*/,
		'/': /\//,

		'NUMBER': /\-?[0-9]*\.?[0-9]+/
	};

	var grammar = {
		'E': [
			'E + T',
			'T'
		],

		'T': [
			'T * F',
			'F'
		],

		'F': [
			'( E )',
			'NUMBER'
		]
	};


	var btnCompile = document.getElementById( 'compile' ),
		sourceCode = document.getElementById( 'sourceCode' );

	btnCompile.addEventListener( 'click', function() {
		var lexer = new Lex( lexico );
		lexer.analyze( sourceCode.value );
		console.table( lexer.tokens );

		var syntax = new Syntax( grammar, lexer );
	});

	btnCompile.click();

}( window );
	</script>
</body>
</html>